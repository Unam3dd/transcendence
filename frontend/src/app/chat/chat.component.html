<div class="global container-fluid p-0 m-0">

  <div id="active-chat-title">{{ this.ws.client_name }}</div>
  <div class="conversation">

    <div class="d-flex align-items-start flex-column mb-3" style="height: 100%; max-height: 100%;">
      <div class="mb-auto p-0 overflow-y-auto" id="scrollable">
        
        <ul class="messages col-12">
          <div class="capsule" *ngFor="let msg of this.ws.received_messages">
    
            <div class="d-flex" *ngIf="IsMainChat(msg)">
              <div class="picture-column">
                <div class="thumbnail">
                  <img src={{msg.author.avatar}}/>
                </div>
              </div>
              <div class="message-zone">
                <div class="author-name">{{msg.author.nickName}} :</div>
                <div class="message-content">{{msg.content}}</div>
              </div>
            </div>
    
            <div class="d-flex" *ngIf="IsDM(msg)">
              <div class="picture-column">
                <div class="thumbnail">
                  <img src={{msg.author.avatar}}/>
                </div>
              </div>
              <div class="message-zone">
                <div class="author-name">{{msg.author.nickName}} :</div>
                <div class="message-content">{{msg.content}}</div>
              </div>
            </div>
    
          </div>
        </ul>

      </div>
      <div class="col-12">
        <hr class="p-0 m-0">
        <form class="p-0 m-0" [formGroup]="msg" (ngSubmit)="sendMessage()">
          <div class="d-flex flex-row align-items-center align-items-stretch">
            <textarea class="form-control bg-dark text-white rounded-0 border-0 p-3" style="resize: none;" placeholder="Send a message to :  {{ this.ws.client_name }}" formControlName="content" required (keyup.enter)="sendMessage()"></textarea>
            <button type="submit" class="btn btn-dark ml-2 rounded-0 border-0 p-3" style="font-size: 1.6rem;"><i class="bi bi-send"></i></button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
